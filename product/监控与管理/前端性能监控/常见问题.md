### 前端性能监控能解决什么问题？[](id:que1)

作为一名前端开发者，通常会遇见以下几个问题。
- 业务报错无处查，用户环境复杂多变，线上问题复现困难。
- 监控系统繁多，通常一个项目内集成了多个监控系统的上报代码，导致排查问题困难。
- 对于计算首屏浏览器没有统一的标准，一个项目需要埋多个点来上报首屏时间。
- API 或者静态资源报错导致页面不可用或出错，开发者无感知。
- 用户反馈问题，前端查到接口超时或者报错，但后端查日志发现没有找到该请求。

针对这些痛点，前端性能监控提供一站式前端性能质量监控解决方案。相较于后端监控，前端监控更贴近于用户，能高效反馈真实用户使用我们产品过程中的体验；对于开发者而言，前端监控是聚焦在技术领域的监控产品，对于产品性能质量提升、发现现网问题都是非常重要的工具。

### 前端性能监控目前支持了哪些平台？提供了什么平台的 SDK？[](id:que2)

目前支持 Web、Hippy、小程序（微信、QQ）和 React Native 等平台的数据上报，并提供了 Web、 Node 、Hippy 、微信和 QQ 平台的 SDK。

### 用户的日志会保存多久？[](id:que3)

用户上报的原始日志，包括错误，自定义上报，性能监控等，保留30天。
RUM 每天定时计算得出来的数据，例如每天的项目评分，每天的 PV/UV 汇总数据等，是永久保存的。


### 为什么 SDK 上报的接口请求耗时跟 network 里面的时间不一致？[](id:que4)

SDK 通过劫持 fetch 和 xhr 的方式实现对接口的测速，在请求前和请求后分别进行打点测速，因为 JS 计算时间差的逻辑依赖 JS 主线程执行，如果 end 时间执行的时候有线程阻塞，会导致实际计算的时长要大于浏览器 network 时长。

### SDK 如何获取网络类型？为什么我的网络类型不正确？[](id:que5)

- 若 ua 中包含 NetType，则从 ua 里获取。
- 若 ua 中不包含，则须使用 `navigator.connection.effectiveType || navigator.connection.type，effectiveType` 会根据您的网速推算出的一个类型，但不是实际类型。

### 代码中 `throw new Error` aegis sdk 为什么没有捕获到？[](id:que6)

在 Vue 框架中，Vue.config.errorHandler 会主动捕获错误，可以通过主动捕获再调用 `aegis.error()` 进行上报。
